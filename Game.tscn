[gd_scene load_steps=11 format=2]

[ext_resource path="res://main/Popup Layer.gd" type="Script" id=1]
[ext_resource path="res://Crew/Crew.tscn" type="PackedScene" id=2]
[ext_resource path="res://main/MainScreen.gd" type="Script" id=3]
[ext_resource path="res://main/SaveTimer.gd" type="Script" id=4]
[ext_resource path="res://main/Progress Clocks.tscn" type="PackedScene" id=5]
[ext_resource path="res://Chat/Chat.tscn" type="PackedScene" id=6]
[ext_resource path="res://main/Controls.tscn" type="PackedScene" id=7]
[ext_resource path="res://Map.tscn" type="PackedScene" id=8]
[ext_resource path="res://InfoContainer.gd" type="Script" id=9]
[ext_resource path="res://MiniMap.gd" type="Script" id=10]

[node name="Game" type="Node"]

[node name="MainCamera" type="Camera2D" parent="."]
current = true
zoom = Vector2( 2, 2 )
smoothing_enabled = true

[node name="Map" parent="." instance=ExtResource( 8 )]
scroll_speed = 750.0
camera = NodePath("../MainCamera")

[node name="MainLayer" type="CanvasLayer" parent="."]

[node name="MainScreen" type="MarginContainer" parent="MainLayer"]
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2
script = ExtResource( 3 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Play" type="Control" parent="MainLayer/MainScreen"]
margin_right = 1024.0
margin_bottom = 600.0
mouse_filter = 2

[node name="MiniMap" type="MarginContainer" parent="MainLayer/MainScreen/Play"]
anchor_left = 1.0
anchor_right = 1.0
margin_left = -187.0
margin_bottom = 172.0
custom_constants/margin_right = 10
custom_constants/margin_top = 10
custom_constants/margin_left = 10
custom_constants/margin_bottom = 10
script = ExtResource( 10 )
__meta__ = {
"_edit_use_anchors_": false
}
main_camera = NodePath("../../../../MainCamera")
zoom_factor = 7.0

[node name="ViewportContainer" type="ViewportContainer" parent="MainLayer/MainScreen/Play/MiniMap"]
margin_left = 10.0
margin_top = 10.0
margin_right = 177.0
margin_bottom = 162.0
rect_min_size = Vector2( 150, 150 )
mouse_filter = 2
size_flags_horizontal = 3
size_flags_vertical = 3
stretch = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Viewport" type="Viewport" parent="MainLayer/MainScreen/Play/MiniMap/ViewportContainer"]
size = Vector2( 167, 152 )
handle_input_locally = false
disable_3d = true
usage = 0
render_target_update_mode = 3
gui_disable_input = true

[node name="Map" parent="MainLayer/MainScreen/Play/MiniMap/ViewportContainer/Viewport" instance=ExtResource( 8 )]

[node name="MiniMapCamera" type="Camera2D" parent="MainLayer/MainScreen/Play/MiniMap/ViewportContainer/Viewport"]
current = true
zoom = Vector2( 22, 22 )
smoothing_enabled = true
smoothing_speed = 10.0

[node name="MapInfoMarginContainer" type="MarginContainer" parent="MainLayer/MainScreen/Play"]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -293.0
margin_top = -162.0
custom_constants/margin_right = 5
custom_constants/margin_top = 2
custom_constants/margin_bottom = 5
__meta__ = {
"_edit_use_anchors_": false
}

[node name="MapInfo" type="PanelContainer" parent="MainLayer/MainScreen/Play/MapInfoMarginContainer"]
margin_top = 2.0
margin_right = 288.0
margin_bottom = 157.0
script = ExtResource( 9 )
__meta__ = {
"_edit_use_anchors_": false
}
info_label = NodePath("ScrollContainer/InfoLabel")

[node name="ScrollContainer" type="ScrollContainer" parent="MainLayer/MainScreen/Play/MapInfoMarginContainer/MapInfo"]
margin_left = 7.0
margin_top = 7.0
margin_right = 281.0
margin_bottom = 148.0
scroll_horizontal_enabled = false

[node name="InfoLabel" type="Label" parent="MainLayer/MainScreen/Play/MapInfoMarginContainer/MapInfo/ScrollContainer"]
margin_right = 274.0
margin_bottom = 141.0
size_flags_horizontal = 3
size_flags_vertical = 3
text = "Sample text"
align = 1
autowrap = true

[node name="Tween" type="Tween" parent="MainLayer/MainScreen/Play/MapInfoMarginContainer/MapInfo"]

[node name="DismissTimer" type="Timer" parent="MainLayer/MainScreen/Play/MapInfoMarginContainer/MapInfo"]
wait_time = 0.05
one_shot = true
autostart = true

[node name="Crew Sheet" parent="MainLayer/MainScreen" instance=ExtResource( 2 )]
visible = false
anchor_right = 0.0
anchor_bottom = 0.0
margin_right = 1024.0
margin_bottom = 600.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="Progress Clocks" parent="MainLayer/MainScreen" instance=ExtResource( 5 )]
visible = false
anchor_right = 0.0
anchor_bottom = 0.0
margin_right = 1024.0
margin_bottom = 600.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="GUI Layer" type="CanvasLayer" parent="."]
layer = 5

[node name="Controls" parent="GUI Layer" instance=ExtResource( 7 )]
anchor_top = 0.533
anchor_bottom = 0.533
margin_left = -133.0
margin_top = -119.8
margin_bottom = 120.2
size_flags_horizontal = 9
main_screen = NodePath("../../MainLayer/MainScreen")
trans_distance = 115

[node name="ChatLayer" type="CanvasLayer" parent="."]
layer = 6

[node name="Chat" parent="ChatLayer" instance=ExtResource( 6 )]
modulate = Color( 1, 1, 1, 0.321569 )
margin_left = -277.0
margin_top = -162.0
margin_right = 201.0
margin_bottom = -3.0
mouse_filter = 0

[node name="Popup Layer" type="CanvasLayer" parent="."]
layer = 10
script = ExtResource( 1 )

[node name="OverlayBackground" type="ColorRect" parent="Popup Layer"]
visible = false
margin_right = 1023.0
margin_bottom = 599.0
mouse_filter = 2
color = Color( 0, 0, 0, 0.815686 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="SaveTimer" type="Timer" parent="."]
wait_time = 10.0
autostart = true
script = ExtResource( 4 )
__meta__ = {
"_editor_description_": "Saves the game at a fixed interval."
}

[connection signal="timeout" from="MainLayer/MainScreen/Play/MapInfoMarginContainer/MapInfo/DismissTimer" to="MainLayer/MainScreen/Play/MapInfoMarginContainer/MapInfo" method="_on_DismissTimer_timeout"]
[connection signal="timeout" from="SaveTimer" to="SaveTimer" method="_on_SaveTimer_timeout"]
